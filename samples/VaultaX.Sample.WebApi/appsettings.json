{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "VaultaX": "Debug"
    }
  },
  "AllowedHosts": "*",

  // ==========================================================================
  // VaultaX Configuration
  // ==========================================================================
  // This configuration demonstrates how to set up VaultaX to read secrets
  // from HashiCorp Vault and overlay them onto your application configuration.
  //
  // When Vault is available:
  // - Secrets are read from Vault using the configured mappings
  // - Vault values override any values in appsettings.json
  //
  // When Vault is unavailable or disabled:
  // - The application falls back to values in appsettings.json
  // - This enables seamless local development without Vault
  // ==========================================================================

  "VaultaX": {
    // Set to true to enable Vault integration
    // Set to false to use only appsettings.json values (for local dev)
    "Enabled": false,

    // Vault server address
    "Address": "http://localhost:8200",

    // KV secrets engine configuration
    "MountPoint": "secret",
    "KvVersion": 2,

    // Environment/path prefix for secrets (e.g., "development", "production")
    // Secrets will be read from: {MountPoint}/data/{BasePath}/{SecretPath}
    "BasePath": "development",

    // Vault namespace (for Vault Enterprise)
    "Namespace": null,

    // Authentication configuration
    // Supported methods: Token, AppRole, Kubernetes, LDAP, JWT, OIDC,
    //                    AWS, Azure, GitHub, Certificate, UserPass, RADIUS
    "Authentication": {
      "Method": "Token",

      // For Token auth: the Vault token
      // Use "env:VAULT_TOKEN" to read from environment variable
      "Token": "env:VAULT_TOKEN",

      // For AppRole auth (recommended for production):
      // "Method": "AppRole",
      // "RoleId": "env:VAULT_ROLE_ID",
      // "SecretId": "env:VAULT_SECRET_ID",
      // "MountPath": "approle"

      // For Kubernetes auth:
      // "Method": "Kubernetes",
      // "Role": "my-app-role",
      // "ServiceAccountTokenPath": "/var/run/secrets/kubernetes.io/serviceaccount/token"

      // For Azure auth:
      // "Method": "Azure",
      // "Role": "my-azure-role",
      // "Resource": "https://management.azure.com/"
    },

    // Secret mappings: define which Vault secrets map to which configuration keys
    // The Bindings map Vault secret keys to configuration paths
    "Mappings": [
      {
        // Read from: secret/data/development/database
        "SecretPath": "database",
        "Bindings": {
          // Vault key "connectionString" -> Config["ConnectionStrings:DefaultConnection"]
          "connectionString": "ConnectionStrings:DefaultConnection",
          // Vault key "password" -> Config["Database:Password"]
          "password": "Database:Password"
        }
      },
      {
        // Read from: secret/data/development/rabbitmq
        "SecretPath": "rabbitmq",
        "Bindings": {
          "host": "RabbitMQ:Host",
          "username": "RabbitMQ:Username",
          "password": "RabbitMQ:Password",
          "virtualHost": "RabbitMQ:VirtualHost"
        }
      },
      {
        // Read from: secret/data/development/jwt
        "SecretPath": "jwt",
        "Bindings": {
          "secret": "Jwt:Secret",
          "issuer": "Jwt:Issuer",
          "audience": "Jwt:Audience"
        }
      }
    ],

    // Hot reload configuration
    // When enabled, secrets are periodically checked for changes
    // and configuration is automatically reloaded
    "Reload": {
      "Enabled": true,
      "IntervalSeconds": 300
    },

    // Token renewal configuration
    // Automatically renews Vault token before expiration
    "TokenRenewal": {
      "Enabled": true,
      "CheckIntervalSeconds": 60,
      "ThresholdPercent": 75,
      "MaxConsecutiveFailures": 3
    }
  },

  // ==========================================================================
  // Application Configuration (default/fallback values)
  // ==========================================================================
  // These values are used when VaultaX is disabled or when Vault is unavailable.
  // In production, sensitive values should come from Vault, not here.

  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=SampleDb;User Id=sa;Password=YourDevPassword123!;TrustServerCertificate=True"
  },

  "Database": {
    "Password": "YourDevPassword123!"
  },

  "RabbitMQ": {
    "Host": "localhost",
    "Port": 5672,
    "Username": "guest",
    "Password": "guest",
    "VirtualHost": "/"
  },

  "Jwt": {
    "Secret": "your-development-secret-key-at-least-32-characters",
    "Issuer": "VaultaX.Sample",
    "Audience": "VaultaX.Sample",
    "ExpirationMinutes": 60
  }
}
